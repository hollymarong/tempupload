{"version":3,"sources":["webpack:///static/js/app.8ef37c3fb6ff5f45eb17.js","webpack:///./src/components/Chat.vue?2164","webpack:///./src/components/Chat.vue?c02d","webpack:///./src/App.vue?8132","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///Chat.vue","webpack:///./src/main.js","webpack:///./src/util/tools.js"],"names":["webpackJsonp","104","module","exports","__webpack_require__","Component","105","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","isConnect","expression","on","click","handleJoinBtnClick","_v","domProps","innerHTML","_s","msg","userNum","ref","_l","item","index","class","me","isMe","userName","message","isUserNameEditing","dblclick","$event","attrs","type","keyup","_k","keyCode","handleUserNameEnter","handleUserNameEsc","blur","handleMessageInputEnter","staticRenderFns","106","id","111","36","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Chat__","__WEBPACK_IMPORTED_MODULE_2__components_Chat___default","n","use","routes","path","component","a","37","40","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_underscore__","__WEBPACK_IMPORTED_MODULE_1__util_tools_js__","mounted","html","document","getElementsByTagName","console","log","handleResizeWindow","windowWidth","w","style","fontSize","window","addEventListener","41","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1_socket_io_client__","__WEBPACK_IMPORTED_MODULE_1_socket_io_client___default","data","userId","chatList","methods","getUserName","userNameCookie","cookie","split","forEach","i","cookieItem","decodeURIComponent","e","setUserName","expires","domain","secure","cookieText","encodeURIComponent","Date","toGMTString","connectSocket","_this","url","location","href","indexOf","socket","connect","push","emit","target","scrollChatAreaToBottom","$refs","chatArea","offsetHeight","scrollHeight","scrollTop","created","updated","42","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","43","getWindowSize","h","documentElement","clientHeight","clientWidth","body","innerHeight","innerWidth","d","set","val","get","cookieArr","remove","88","89"],"mappings":"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","file":"static/js/app.8ef37c3fb6ff5f45eb17.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(88)\n\nvar Component = __webpack_require__(33)(\n  /* script */\n  __webpack_require__(41),\n  /* template */\n  __webpack_require__(105),\n  /* scopeId */\n  \"data-v-61de597d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chat\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isConnect),\n      expression: \"!isConnect\"\n    }],\n    staticClass: \"login\"\n  }, [_c('span', {\n    staticClass: \"joinbtn\",\n    on: {\n      \"click\": _vm.handleJoinBtnClick\n    }\n  }, [_vm._v(\"点击进入聊天室\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isConnect),\n      expression: \"isConnect\"\n    }],\n    staticClass: \"room\"\n  }, [_c('h2', {\n    staticClass: \"chattitle\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.msg)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"chatnotice\"\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.userNum)\n    }\n  }), _vm._v(\"参与者\\n        \")]), _vm._v(\" \"), _c('div', {\n    ref: \"chatArea\",\n    staticClass: \"chatarea\"\n  }, [_c('div', {\n    staticClass: \"chatlist\"\n  }, _vm._l((_vm.chatList), function(item, index) {\n    return _c('div', {\n      staticClass: \"chatitem\",\n      class: {\n        me: item.isMe\n      }\n    }, [_c('div', {\n      staticClass: \"userhead\"\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"username\"\n    }, [_vm._v(_vm._s(item.userName == _vm.userName ? '我' : item.userName))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"usermsg\"\n    }, [_vm._v(_vm._s(item.message))])])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"room-foot\"\n  }, [_c('div', {\n    staticClass: \"chathelp\"\n  }, [_c('div', {\n    staticClass: \"nickname-area\"\n  }, [_c('span', {\n    staticClass: \"nickname-label\"\n  }, [_vm._v(\"昵称:\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isUserNameEditing),\n      expression: \"!isUserNameEditing\"\n    }],\n    staticClass: \"nickname-show\"\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.userName)\n    },\n    on: {\n      \"dblclick\": function($event) {\n        _vm.isUserNameEditing = true\n      }\n    }\n  })]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isUserNameEditing),\n      expression: \"isUserNameEditing\"\n    }],\n    staticClass: \"nickname-input\",\n    attrs: {\n      \"name\": \"\",\n      \"type\": \"text\",\n      \"value\": \"\"\n    },\n    domProps: {\n      \"value\": _vm.userName\n    },\n    on: {\n      \"keyup\": [function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleUserNameEnter($event)\n      }, function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"esc\", 27)) { return null; }\n        _vm.handleUserNameEsc($event)\n      }],\n      \"blur\": _vm.handleUserNameEnter\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isConnect),\n      expression: \"isConnect\"\n    }],\n    staticClass: \"m-inputmsg\"\n  }, [_c('input', {\n    staticClass: \"inputmsg\",\n    attrs: {\n      \"name\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleMessageInputEnter($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"sendbtn\"\n  }, [_vm._v(\"send\")])])])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Chat__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Chat___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Chat__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Chat',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Chat___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(89)\n\nvar Component = __webpack_require__(33)(\n  /* script */\n  __webpack_require__(40),\n  /* template */\n  __webpack_require__(106),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_underscore__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_underscore___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_underscore__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_tools_js__ = __webpack_require__(43);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    mounted: function mounted() {\n        var _this = this;\n        var html = document.getElementsByTagName('html')[0];\n        console.log('tools', __WEBPACK_IMPORTED_MODULE_1__util_tools_js__);\n        var handleResizeWindow = function handleResizeWindow() {\n            var windowWidth = __WEBPACK_IMPORTED_MODULE_1__util_tools_js__[\"getWindowSize\"]().w;\n            html.style.fontSize = windowWidth * 100 / 750 + 'px';\n        };\n        handleResizeWindow();\n        window.addEventListener('resize', handleResizeWindow, false);\n    }\n});\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_socket_io_client__ = __webpack_require__(94);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_socket_io_client__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'chat',\n    data: function data() {\n        return {\n            msg: '欢迎进入聊天室',\n            isConnect: false,\n            isUserNameEditing: false,\n            userNum: 0,\n            userId: '',\n            userName: '',\n            chatList: []\n        };\n    },\n\n    methods: {\n        getUserName: function getUserName(name) {\n            var userNameCookie = '';\n            if (document.cookie) {\n                var cookieArr = document.cookie.split(/;\\s*/);\n                cookieArr.forEach(function (cookie, i) {\n                    if (cookie) {\n                        var cookieItem = cookie.split('=');\n                        if (cookieItem[0] == name) {\n                            try {\n                                userNameCookie = decodeURIComponent(cookieItem[1]);\n                            } catch (e) {}\n                        }\n                    }\n                });\n            }\n            return userNameCookie;\n        },\n        setUserName: function setUserName(name, value, expires, path, domain, secure) {\n            var cookieText = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n            if (expires) {\n                cookieText += \";expires=\" + new Date(+new Date() + expires * 24 * 60 * 60 * 1000).toGMTString();\n            }\n            if (path) {\n                cookieText += \";path=\" + path;\n            }\n            if (domain) {\n                cookieText += \";domain\" + domain;\n            }\n            if (secure) {\n                cookieText += \";secure\";\n            }\n            document.cookie = cookieText;\n        },\n        connectSocket: function connectSocket() {\n            var _this = this;\n            var url = 'http://192.168.0.103:3000';\n            if (window.location.href.indexOf('localhost') == -1) {\n                url = 'http://47.91.156.125:3000';\n            }\n            this.socket = __WEBPACK_IMPORTED_MODULE_1_socket_io_client___default.a.connect(url);\n            this.socket.on('user joined', function (data) {\n                _this.userNum = data.userNum;\n            });\n            this.socket.on('user left', function (data) {});\n            this.socket.on('new message', function (data) {\n                _this.chatList.push(data);\n            });\n            this.socket.on('login', function (data) {\n                _this.userNum = data.userNum;\n            });\n        },\n        handleJoinBtnClick: function handleJoinBtnClick() {\n            var _this = this;\n\n            this.connectSocket();\n            this.socket.emit('add user', _this.userName, function (id) {\n                _this.userName = '用户' + id;\n            });\n            this.isConnect = true;\n        },\n        handleUserNameEnter: function handleUserNameEnter(e) {\n            this.userName = e.target.value;\n            this.isUserNameEditing = false;\n            this.socket.emit('set username', this.userName, function (userId) {\n                _this.userName = '用户' + userId;\n                _this.setUserName('chatUserName', _this.userName, 365);\n            });\n        },\n        handleUserNameEsc: function handleUserNameEsc() {\n            this.isUserNameEditing = false;\n        },\n        handleMessageInputEnter: function handleMessageInputEnter(e) {\n            var message = e.target.value;\n            var _this = this;\n            if (message) {\n                var data = {\n                    userName: _this.userName,\n                    message: message\n                };\n                this.socket.emit('new message', data);\n                this.chatList.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, data, { isMe: true }));\n\n                e.target.value = '';\n            }\n        },\n        scrollChatAreaToBottom: function scrollChatAreaToBottom() {\n            window.ref = this.$refs;\n            var chatArea = this.$refs.chatArea;\n            if (chatArea.offsetHeight < chatArea.scrollHeight) {\n                chatArea.scrollTop = chatArea.scrollHeight - chatArea.offsetHeight;\n            }\n        }\n    },\n    created: function created() {\n        console.log('chat created');\n    },\n    mounted: function mounted() {\n        console.log('chat mounted');\n    },\n    updated: function updated() {\n        console.log('chat updated');\n        this.scrollChatAreaToBottom();\n    }\n});\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(36);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cookie\", function() { return cookie; });\n/* harmony export (immutable) */ __webpack_exports__[\"getWindowSize\"] = getWindowSize;\nvar cookie = {\n    set: function set(name, val, expires, path, domain, secure) {\n        var cookieText = encodeURIComponent(name) + '=' + encodeURIComponent(val);\n        if (expires) {\n            cookieText += ';expires=' + new Date(+new Date() + expires * 24 * 60 * 60 * 1000).toGMTString();\n        }\n        if (path) {\n            cookieText += ';path=' + path;\n        }\n        if (domain) {\n            cookieText += ';domain' + domain;\n        }\n        if (secure) {\n            cookieText += ';secure';\n        }\n        document.cookie = cookieText;\n    },\n    get: function get(name) {\n        var cookieArr = document.cookie.split(/;\\s*/);\n        var value = '';\n        cookieArr.forEach(function (cookie, i) {\n            var cookieItem = cookie.split('=');\n            if (cookieItem[0] === name) {\n                try {\n                    value = decodeURIComponent(cookieItem[1]);\n                } catch (e) {}\n            }\n        });\n        return value;\n    },\n    remove: function remove(name, path, domain, secure) {\n        this.set(name, '', 0, path, domain, secure);\n    }\n};\nfunction getWindowSize() {\n    var w = 0,\n        h = 0;\n    if (document.documentElement && document.documentElement.clientHeight) {\n        w = document.documentElement.clientWidth;\n        h = document.documentElement.clientHeight;\n    } else if (document.body && document.body.clientHeight) {\n        w = document.body.clientWidth;\n        h = document.body.clientHeight;\n    } else if (window.innerHeight) {\n        w = window.innerWidth;\n        h = window.innerHeight;\n    }\n    return {\n        w: w,\n        h: h\n    };\n};\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[42]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.8ef37c3fb6ff5f45eb17.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-61de597d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Chat.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61de597d\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Chat.vue\"),\n  /* scopeId */\n  \"data-v-61de597d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Chat.vue\n// module id = 104\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chat\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isConnect),\n      expression: \"!isConnect\"\n    }],\n    staticClass: \"login\"\n  }, [_c('span', {\n    staticClass: \"joinbtn\",\n    on: {\n      \"click\": _vm.handleJoinBtnClick\n    }\n  }, [_vm._v(\"点击进入聊天室\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isConnect),\n      expression: \"isConnect\"\n    }],\n    staticClass: \"room\"\n  }, [_c('h2', {\n    staticClass: \"chattitle\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.msg)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"chatnotice\"\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.userNum)\n    }\n  }), _vm._v(\"参与者\\n        \")]), _vm._v(\" \"), _c('div', {\n    ref: \"chatArea\",\n    staticClass: \"chatarea\"\n  }, [_c('div', {\n    staticClass: \"chatlist\"\n  }, _vm._l((_vm.chatList), function(item, index) {\n    return _c('div', {\n      staticClass: \"chatitem\",\n      class: {\n        me: item.isMe\n      }\n    }, [_c('div', {\n      staticClass: \"userhead\"\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"username\"\n    }, [_vm._v(_vm._s(item.userName == _vm.userName ? '我' : item.userName))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"usermsg\"\n    }, [_vm._v(_vm._s(item.message))])])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"room-foot\"\n  }, [_c('div', {\n    staticClass: \"chathelp\"\n  }, [_c('div', {\n    staticClass: \"nickname-area\"\n  }, [_c('span', {\n    staticClass: \"nickname-label\"\n  }, [_vm._v(\"昵称:\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isUserNameEditing),\n      expression: \"!isUserNameEditing\"\n    }],\n    staticClass: \"nickname-show\"\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.userName)\n    },\n    on: {\n      \"dblclick\": function($event) {\n        _vm.isUserNameEditing = true\n      }\n    }\n  })]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isUserNameEditing),\n      expression: \"isUserNameEditing\"\n    }],\n    staticClass: \"nickname-input\",\n    attrs: {\n      \"name\": \"\",\n      \"type\": \"text\",\n      \"value\": \"\"\n    },\n    domProps: {\n      \"value\": _vm.userName\n    },\n    on: {\n      \"keyup\": [function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleUserNameEnter($event)\n      }, function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"esc\", 27)) { return null; }\n        _vm.handleUserNameEsc($event)\n      }],\n      \"blur\": _vm.handleUserNameEnter\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isConnect),\n      expression: \"isConnect\"\n    }],\n    staticClass: \"m-inputmsg\"\n  }, [_c('input', {\n    staticClass: \"inputmsg\",\n    attrs: {\n      \"name\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleMessageInputEnter($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"sendbtn\"\n  }, [_vm._v(\"send\")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-61de597d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Chat.vue\n// module id = 105\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f5dda2a6\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 106\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Chat from '@/components/Chat'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Chat',\n      component: Chat\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-f5dda2a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5dda2a6\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 37\n// module chunks = 1","<template>\n    <div id=\"app\">\n        <router-view></router-view>\n    </div>\n</template>\n\n<script>\n import _ from 'underscore'\n import * as tools from './util/tools.js'\n export default {\n     name: 'app',\n     mounted () {\n         const _this = this;\n         const html = document.getElementsByTagName('html')[0];\n         console.log('tools',tools)\n         const handleResizeWindow = () => {\n             const windowWidth = tools.getWindowSize().w;\n             html.style.fontSize = windowWidth * 100 / 750 + 'px';\n         };\n         handleResizeWindow();\n         window.addEventListener('resize', handleResizeWindow, false);\n     }\n }\n</script>\n\n<style>\n * {\n     margin:0;\n     padding: 0;\n     box-sizing: border-box;\n }\n html, body{\n     height: 100%;\n     margin: 0;\n     padding: 0;\n }\n h1, h2 {\n     font-weight: normal;\n }\n\n ul {\n     list-style: none;\n     padding: 0;\n }\n\n\n #app {\n     font-family: 'Avenir', Helvetica, Arial, sans-serif;\n     -webkit-font-smoothing: antialiased;\n     -moz-osx-font-smoothing: grayscale;\n     text-align: center;\n     color: #2c3e50;\n     height: 100%;\n     /* margin-top: 60px; */\n }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?254f3964","<template>\n    <div class=\"chat\">\n        <div v-show=\"!isConnect\" class=\"login\">\n            <span v-on:click=\"handleJoinBtnClick\" class=\"joinbtn\">点击进入聊天室</span>\n        </div>\n        <div v-show=\"isConnect\" class=\"room\">\n            <h2 class=\"chattitle\" v-html=\"msg\"></h2>\n            <div class=\"chatnotice\">\n                <span v-html=\"userNum\"></span>参与者\n            </div>\n            <div ref=\"chatArea\" class=\"chatarea\">\n                <div class=\"chatlist\">\n                    <div v-for=\"(item, index) in chatList\" :class=\"{me:item.isMe}\" class=\"chatitem\">\n                        <div class=\"userhead\">\n                        </div>\n                        <span class=\"username\">{{item.userName==userName?'我':item.userName}}</span>\n                        <!-- <span class=\"usermsg\" v-html=\"chatItem.message\"></span> -->\n                        <span class=\"usermsg\">{{item.message}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"room-foot\">\n                <div class=\"chathelp\">\n                    <div class=\"nickname-area\">\n                        <span class=\"nickname-label\">昵称:</span>\n                        <div v-show=\"!isUserNameEditing\" class=\"nickname-show\">\n                            <span v-html=\"userName\" @dblclick=\"isUserNameEditing = true\"></span>\n                        </div>\n                        <input v-show=\"isUserNameEditing\"\n                               :value=\"userName\"\n                               @keyup.enter=\"handleUserNameEnter\"\n                               @keyup.esc=\"handleUserNameEsc\"\n                               @blur=\"handleUserNameEnter\"\n                               class=\"nickname-input\" name=\"\" type=\"text\" value=\"\"/>\n                    </div>\n                </div>\n                <div class=\"m-inputmsg\" v-show=\"isConnect\">\n                    <input class=\"inputmsg\" name=\"\" type=\"text\"\n                           @keyup.enter=\"handleMessageInputEnter\"\n                    />\n                    <span class=\"sendbtn\">send</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n import io from 'socket.io-client'\n export default {\n     name: 'chat',\n     data () {\n         return {\n             msg: '欢迎进入聊天室',\n             isConnect :false,\n             isUserNameEditing: false,\n             userNum:0,\n             userId:'',\n             userName:'',\n             chatList:[]\n         }\n     },\n     methods: {\n         getUserName (name){\n             var userNameCookie='';\n             if(document.cookie){\n                 var cookieArr = document.cookie.split(/;\\s*/);\n                 cookieArr.forEach(function(cookie, i){\n                     if(cookie){\n                         var cookieItem = cookie.split('=');\n                         if(cookieItem[0] == name){\n                             try{\n                                 userNameCookie = decodeURIComponent(cookieItem[1]);\n                             } catch(e){\n                             }\n                         }\n                     }\n                 })\n             }\n             return userNameCookie;\n         },\n         setUserName (name, value, expires, path, domain, secure){\n             var cookieText = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n             if(expires){\n                 cookieText += \";expires=\" + new Date(+new Date()+expires*24*60*60*1000).toGMTString();\n             }\n             if(path){\n                 cookieText += \";path=\" + path;\n             }\n             if(domain){\n                 cookieText += \";domain\" + domain;\n             }\n             if(secure){\n                 cookieText += \";secure\";\n             }\n             document.cookie = cookieText;\n         },\n         connectSocket () {\n             var _this = this;\n             var url = 'http://192.168.0.103:3000';\n             if(window.location.href.indexOf('localhost')  == -1){\n                 url = 'http://47.91.156.125:3000'\n             }\n             this.socket = io.connect(url);\n             this.socket.on('user joined', function(data){\n                 _this.userNum = data.userNum;\n             });\n             this.socket.on('user left', function(data){\n             });\n             this.socket.on('new message', function(data){\n                 _this.chatList.push(data);\n             });\n             this.socket.on('login', function(data){\n                 _this.userNum = data.userNum;\n             })\n\n         },\n         handleJoinBtnClick () {\n             var _this = this;\n             /* this.userName = this.getUserName('chatUserName');*/\n             this.connectSocket();\n             this.socket.emit('add user', _this.userName, function(id){\n                 _this.userName = '用户' + id;\n             });\n             this.isConnect = true;\n         },\n         handleUserNameEnter (e) {\n             this.userName = e.target.value;\n             this.isUserNameEditing = false;\n             this.socket.emit('set username', this.userName, function(userId){\n                 _this.userName = '用户'+userId;\n                 _this.setUserName('chatUserName', _this.userName, 365);\n             });\n         },\n         handleUserNameEsc () {\n             this.isUserNameEditing = false;\n         },\n         handleMessageInputEnter (e) {\n             const message = e.target.value;\n             var _this = this;\n             if(message){\n                 var data = {\n                     userName: _this.userName,\n                     message\n                 };\n                 this.socket.emit('new message', data);\n                 this.chatList.push(Object.assign({}, data, {isMe:true}));\n\n                 e.target.value  = '';\n             }\n\n         },\n\n         scrollChatAreaToBottom () {\n             window.ref = this.$refs;\n             var chatArea = this.$refs.chatArea;\n             if(chatArea.offsetHeight < chatArea.scrollHeight) {\n                 chatArea.scrollTop = chatArea.scrollHeight - chatArea.offsetHeight;\n             }\n         }\n     },\n     created () {\n         console.log('chat created');\n         /* this.userName = this.getUserName('chatUserName');*/\n     },\n     mounted (){\n         /* this.connectSocket();*/\n         console.log('chat mounted')\n     },\n     updated (){\n         console.log('chat updated')\n         this.scrollChatAreaToBottom();\n     }\n }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n .chat{\n     height:100%;\n     background:#16152c;\n     color:#fff;\n }\n .login {\n     display:flex;\n     height:100%;\n     justify-content: center;\n     align-items: center;\n }\n .joinbtn{\n     font-weight: bold;\n     font-size:0.3rem;\n     color: #d96f8f;\n }\n .room{\n     display:flex;\n     height:100vh;\n     flex-direction:column;\n     font-size:0.14rem;\n }\n .chattitle{\n     padding: 20px;\n     font-size:0.2rem;\n     text-align:center;\n }\n .chatarea{\n     flex:1;\n     width:80%;\n     margin: 0 auto;\n     background:#fff;\n     color:#333;\n     padding: 0.2rem;\n     overlfow-x:hidden;\n     overflow-y:auto;\n     border-radius: 0.08rem;\n }\n .chatlist{\n }\n .chatitem{\n     display:flex;\n     flex-direction: row;\n     align-items:center;\n     margin-bottom:0.2rem;\n     &.me{\n         flex-direction: row-reverse;\n     }\n }\n .username{\n     display:block;\n }\n .usermsg{\n     flex:1;\n     padding: 0.08rem;\n     border-raiuds:0.04rem;\n     color:#000;\n     margin: 0 .14rem;\n     background-color:rgba(56,209,52, 0.8);\n     border:1px solid #115c10;\n     border-radius:0.04rem;\n     worder-break:break-word;\n     text-align:left;\n }\n .m-inputmsg{\n     display:flex;\n     height:0.4rem;\n     background:#fff;\n }\n .inputmsg{\n     border:0 none;\n     border-radius:0.04rem;\n     flex:1;\n }\n .sendbtn{\n     width:0.6rem;\n     line-height:0.4rem;\n     background-color:#115c10;\n }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Chat.vue?583ca4d8","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export const cookie = {\r\n    set(name, val, expires, path, domain, secure) {\r\n        var cookieText = encodeURIComponent(name) + '=' + encodeURIComponent(val);\r\n        if(expires) {\r\n            cookieText += ';expires=' + new Date(+new Date + expires*24*60*60*1000).toGMTString();\r\n        }\r\n        if(path) {\r\n            cookieText += ';path=' + path;\r\n        }\r\n        if(domain) {\r\n            cookieText += ';domain' + domain;\r\n        }\r\n        if(secure){\r\n            cookieText += ';secure';\r\n        }\r\n        document.cookie = cookieText;\r\n    },\r\n    get(name) {\r\n        var cookieArr = document.cookie.split(/;\\s*/);\r\n        var value  = '';\r\n        cookieArr.forEach(function(cookie, i){\r\n            var cookieItem = cookie.split('=');\r\n            if(cookieItem[0] === name){\r\n                try{\r\n                    value = decodeURIComponent(cookieItem[1]);\r\n                }catch(e){\r\n                }\r\n            }\r\n        });\r\n        return value;\r\n    },\r\n    remove (name, path, domain, secure) {\r\n        this.set(name, '', 0, path, domain, secure);\r\n\r\n    }\r\n};\r\nexport function getWindowSize(){\r\n    var  w = 0,\r\n        h = 0;\r\n    if(document.documentElement && document.documentElement.clientHeight){\r\n        w = document.documentElement.clientWidth;\r\n        h = document.documentElement.clientHeight;\r\n    }else if(document.body && document.body.clientHeight){\r\n        w = document.body.clientWidth;\r\n        h = document.body.clientHeight;\r\n    }else  if(window.innerHeight){\r\n        w = window.innerWidth;\r\n        h = window.innerHeight;\r\n    }\r\n    return {\r\n        w,\r\n        h\r\n    };\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/tools.js"],"sourceRoot":""}